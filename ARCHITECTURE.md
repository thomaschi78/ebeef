# ebeef - Arquitetura de Sistemas (Rascunho)

## VisÃ£o Geral

O ebeef Ã© um sistema integrado de gestÃ£o de pedidos para um negÃ³cio de delivery de carnes que orquestra interaÃ§Ãµes com clientes, processamento de pedidos, pagamentos e entregas atravÃ©s de mÃºltiplos serviÃ§os externos.

---

## ServiÃ§os Externos e APIs

| ServiÃ§o | Finalidade | DocumentaÃ§Ã£o da API |
|---------|------------|---------------------|
| **Bling** | ERP - GestÃ£o de pedidos e estoque | https://developer.bling.com.br/aplicativos#categorias |
| **Pagar.me** | Processamento de pagamentos e CRM | https://www.pagar.me/ |
| **Lalamove** | CotaÃ§Ã£o de frete e entrega (fallback) | https://developers.lalamove.com/ |
| **WhatsApp Business API** | ComunicaÃ§Ã£o com clientes e grupo de entregadores | Meta Business API |

---

## Diagrama de Arquitetura do Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   PLATAFORMA EBEEF                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                 MÃ“DULO ADMIN                                      â”‚  |
â”‚  â”‚     Controle Geral â”‚ Regras de NegÃ³cio | GestÃ£o | MÃ³dulo de analytics e mÃ©tricas  |  |
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      MÃ“DULO AUTENTICAÃ‡ÃƒO E SESSÃ•ES                                â”‚  |
â”‚  â”‚     Login Vendedor â”‚ Perfis (RBAC) â”‚ SessÃµes WhatsApp â”‚ Backup â”‚ Auditoria        â”‚  |
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      BASE DE CONHECIMENTO (Content Production)                    â”‚  â”‚
â”‚  â”‚     Receitas â”‚ Dicas de Churrasco â”‚ HarmonizaÃ§Ã£o â”‚ Regras Cross-sell/Upsell       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                              â”‚                            â”‚
â”‚                             â”‚ (alimenta sugestÃµes          â”‚ (regras de                 â”‚
â”‚                             â”‚  e dicas para cliente)       â”‚  complementaÃ§Ã£o)           â”‚
â”‚                             â–¼                              â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  MÃ“DULO CLIENTE    â”‚  â”‚  MÃ“DULO PEDIDO     â”‚  â”‚    MÃ“DULO       â”‚  â”‚   MÃ“DULO     â”‚  â”‚
â”‚  â”‚     + CRM          â”‚  â”‚                    â”‚  â”‚   PAGAMENTO     â”‚  â”‚   ENTREGA    â”‚  â”‚
â”‚  â”‚                    â”‚  â”‚                    â”‚  â”‚                 â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ - Chat IA/Vendedor â”‚  â”‚ - Carrinho         â”‚  â”‚ - Checkout      â”‚  â”‚ - SeparaÃ§Ã£o  â”‚  â”‚
â”‚  â”‚ - VisÃ£o 360Â°       â”‚â”€â–¶â”‚ - ValidaÃ§Ã£o        â”‚â”€â–¶â”‚ - Pagamento     â”‚â”€â–¶â”‚ - Despacho   â”‚  â”‚
â”‚  â”‚ - SegmentaÃ§Ã£o      â”‚  â”‚ - PreÃ§os           â”‚  â”‚ - ConfirmaÃ§Ã£o   â”‚  â”‚ - Agente IA  â”‚  â”‚
â”‚  â”‚ - LTV/Scoring      â”‚  â”‚ - Recompra         â”‚  â”‚                 â”‚  â”‚ - Rastreio   â”‚  â”‚
â”‚  â”‚ - Notas/Tags       â”‚  â”‚ - SugestÃµes (BC)   â”‚  â”‚                 â”‚  â”‚              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                       â”‚                      â”‚                  â”‚          â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                             â”‚                                           â”‚
â”‚                                             â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                       MÃ“DULO ANALYTICS E MÃ‰TRICAS                                 â”‚  â”‚
â”‚  â”‚     TAT â”‚ Handover IAâ†”Vendedor â”‚ Ticket MÃ©dio â”‚ CSAT â”‚ Dashboards â”‚ Alertas       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                    â”‚                    â”‚                    â”‚
           â–¼                    â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    WHATSAPP     â”‚   â”‚      BLING      â”‚   â”‚    PAGAR.ME     â”‚   â”‚  ENTREGADORES   â”‚
â”‚  Business API   â”‚   â”‚      ERP        â”‚   â”‚    Gateway      â”‚   â”‚  (Agente de IA) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - Atendimento   â”‚   â”‚ - Produtos      â”‚   â”‚ - TransaÃ§Ãµes    â”‚   â”‚ GRUPO WHATSAPP  â”‚
â”‚ - NotificaÃ§Ãµes  â”‚   â”‚ - Pedidos       â”‚   â”‚ - Clientes      â”‚   â”‚ (Terceiros)     â”‚
â”‚ - Grupo Entrega â”‚   â”‚ - Estoque       â”‚   â”‚ - Assinaturas   â”‚   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ - CSAT          â”‚   â”‚ - Notas Fiscais â”‚   â”‚ - Estornos      â”‚   â”‚ LALAMOVE        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ (Fallback)      â”‚
                                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Fluxo de InformaÃ§Ã£o da Base de Conhecimento:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BASE DE CONHECIMENTO â†’ MÃ“DULOS                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚   BASE DE CONHECIMENTO (Content Production)                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ CONTEÃšDO GERENCIADO:                                                    â”‚  â”‚
â”‚   â”‚ â€¢ Receitas de preparo (por corte, ocasiÃ£o, tÃ©cnica)                     â”‚  â”‚
â”‚   â”‚ â€¢ Dicas de churrasco (preparo, tÃ©cnica, equipamento)                    â”‚  â”‚
â”‚   â”‚ â€¢ HarmonizaÃ§Ãµes (corte + tempero + acompanhamento + bebida)             â”‚  â”‚
â”‚   â”‚ â€¢ Regras de cross-sell (comprou X â†’ sugere Y)                           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                â”‚                                                â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚            â”‚                                       â”‚                           â”‚
â”‚            â–¼                                       â–¼                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ MÃ“DULO CLIENTE + CRM         â”‚  â”‚ MÃ“DULO PEDIDO                â”‚          â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚   â”‚                              â”‚  â”‚                              â”‚          â”‚
â”‚   â”‚ RECEBE DA BASE:              â”‚  â”‚ RECEBE DA BASE:              â”‚          â”‚
â”‚   â”‚ â€¢ Regras de cross-sell       â”‚  â”‚ â€¢ Regras de complementaÃ§Ã£o   â”‚          â”‚
â”‚   â”‚ â€¢ Dicas para compartilhar    â”‚  â”‚ â€¢ HarmonizaÃ§Ãµes              â”‚          â”‚
â”‚   â”‚ â€¢ Receitas relacionadas      â”‚  â”‚                              â”‚          â”‚
â”‚   â”‚                              â”‚  â”‚ MÃ“DULO PEDIDO GERENCIA:      â”‚          â”‚
â”‚   â”‚ MÃ“DULO CLIENTE USA PARA:     â”‚  â”‚ â€¢ Combos e kits prontos      â”‚          â”‚
â”‚   â”‚ â€¢ SugestÃµes personalizadas   â”‚  â”‚ â€¢ Produtos complementares    â”‚          â”‚
â”‚   â”‚   baseadas no perfil CRM     â”‚  â”‚ â€¢ SugestÃµes no checkout      â”‚          â”‚
â”‚   â”‚ â€¢ PromoÃ§Ãµes por validade     â”‚  â”‚                              â”‚          â”‚
â”‚   â”‚ â€¢ Argumentos de venda        â”‚  â”‚                              â”‚          â”‚
â”‚   â”‚                              â”‚  â”‚                              â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                                 â”‚
â”‚   EXEMPLOS DE USO:                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                             â”‚
â”‚   1. Cliente pede Picanha â†’ CLIENTE usa regra cross-sell â†’ sugere LinguiÃ§a    â”‚
â”‚   2. Cliente VIP â†’ CLIENTE consulta receitas â†’ envia dica personalizada       â”‚
â”‚   3. Checkout â†’ PEDIDO monta sugestÃ£o de kit baseado nas harmonizaÃ§Ãµes        â”‚
â”‚   4. Produto prÃ³ximo validade â†’ CLIENTE prioriza nas sugestÃµes                 â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Fluxo de InformaÃ§Ãµes

### Ciclo de Vida Completo do Pedido

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FLUXO DO CICLO DE VIDA DO PEDIDO                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    CLIENTE                 EBEEF                   SERVIÃ‡OS EXTERNOS
        â”‚                     â”‚                            â”‚
        â”‚  1. Msg WhatsApp    â”‚                            â”‚
        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                            â”‚
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚  2. IA/Vendedor Processa   â”‚
        â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
        â”‚                     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
        â”‚                     â”‚                            â”‚
        â”‚  3. Detalhes Pedido â”‚                            â”‚
        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚
        â”‚                     â”‚                            â”‚
        â”‚  4. Confirma Pedido â”‚                            â”‚
        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                            â”‚
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚  5. Criar Pedido           â”‚
        â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ BLING
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚  6. Processar Pagamento    â”‚
        â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ PAGAR.ME
        â”‚                     â”‚                            â”‚
        â”‚  7. ConfirmaÃ§Ã£o Pag â”‚  7a. Webhook Pagamento     â”‚
        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚  8. Atualizar Status       â”‚
        â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ BLING
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚                            â”‚
   â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                              â”‚                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
                    â”‚  HANDOVER MANUAL  â”‚                  â”‚
                    â”‚  (Estado Atual)   â”‚                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                              â”‚                            â”‚
   â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚  9. Obter CotaÃ§Ã£o Entrega  â”‚
        â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ LALAMOVE
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚  10. Resposta CotaÃ§Ã£o      â”‚
        â”‚                     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚  11. Notificar Terceiros   â”‚
        â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ GRUPO WHATSAPP
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
        â”‚                     â”‚     â”‚ Terceiro        â”‚    â”‚
        â”‚                     â”‚     â”‚ DisponÃ­vel?     â”‚    â”‚
        â”‚                     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
        â”‚                     â”‚              â”‚             â”‚
        â”‚                     â”‚         SIM  â”‚  NÃƒO        â”‚
        â”‚                     â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”     â”‚
        â”‚                     â”‚      â–¼               â–¼     â”‚
        â”‚                     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚                     â”‚  â”‚Terceiroâ”‚    â”‚Lalamoveâ”‚  â”‚
        â”‚                     â”‚  â”‚Entrega â”‚    â”‚Entrega â”‚  â”‚
        â”‚                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                     â”‚      â”‚               â”‚     â”‚
        â”‚                     â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
        â”‚                     â”‚              â”‚             â”‚
        â”‚                     â”‚              â–¼             â”‚
        â”‚                     â”‚  12. Rastreio Entrega      â”‚
        â”‚  13. Atualiz Rastr  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚
        â”‚                     â”‚                            â”‚
        â”‚                     â”‚  14. Entrega ConcluÃ­da     â”‚
        â”‚                     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                     â”‚                            â”‚
        â”‚  15. Pesquisa CSAT  â”‚                            â”‚
        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚
        â”‚                     â”‚                            â”‚
        â”‚  16. Resposta Pesq  â”‚                            â”‚
        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                            â”‚
        â”‚                     â”‚                            â”‚
        â–¼                     â–¼                            â–¼
```

---

## EspecificaÃ§Ãµes dos MÃ³dulos

### 1. MÃ³dulo Cliente (com CRM integrado)

**Responsabilidades:**
- Receber mensagens do WhatsApp
- Rotear para agente IA ou Vendedor (Representante de Vendas)
- Gerenciar conversas com clientes
- Enviar confirmaÃ§Ãµes e atualizaÃ§Ãµes de pedidos
- **Facilitar recompra** com histÃ³rico de pedidos anteriores
- **CRM: VisÃ£o 360Â° do cliente** - perfil completo, histÃ³rico, preferÃªncias
- **CRM: SegmentaÃ§Ã£o** - VIP, recorrente, novo, em risco de churn
- **CRM: LTV e scoring** - valor do cliente e potencial de compra

**Problemas Atuais (a resolver):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INEFICIÃŠNCIA 1: Consulta de Peso                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Vendedor precisa verificar peso de cada peÃ§a de carne (nÃ£o padronizado)   â”‚
â”‚                                                                             â”‚
â”‚   HOJE:  WhatsApp â”€â”€â–¶ Bling (peso) â”€â”€â–¶ WhatsApp â”€â”€â–¶ Bling â”€â”€â–¶ ...         â”‚
â”‚                         â†‘                            â†‘                      â”‚
â”‚                    Troca de tela              Troca de tela                 â”‚
â”‚                                                                             â”‚
â”‚   PROPOSTA: Interface unificada com pesos visÃ­veis durante atendimento      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INEFICIÃŠNCIA 2: Recompra Manual                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Cliente quer repetir pedido anterior = Vendedor busca manualmente         â”‚
â”‚                                                                             â”‚
â”‚   HOJE:  "Quero o mesmo" â”€â”€â–¶ Vendedor busca histÃ³rico â”€â”€â–¶ Monta pedido      â”‚
â”‚                                              (manual)           (manual)    â”‚
â”‚                                                                             â”‚
â”‚   PROPOSTA: BotÃ£o "Repetir Ãºltimo pedido" / HistÃ³rico acessÃ­vel ao cliente â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INEFICIÃŠNCIA 3: Oportunidades de Upselling Perdidas                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Vendedor estÃ¡ tÃ£o ocupado com tarefas manuais que nÃ£o consegue:           â”‚
â”‚   â€¢ Sugerir produtos complementares                                         â”‚
â”‚   â€¢ Oferecer promoÃ§Ãµes relevantes                                           â”‚
â”‚   â€¢ Recomendar baseado no histÃ³rico do cliente                              â”‚
â”‚                                                                             â”‚
â”‚   HOJE:  Vendedor focado em "apagar incÃªndios" â”€â”€â–¶ Zero upselling           â”‚
â”‚                                                                             â”‚
â”‚   RECEITA PERDIDA: Cliente compra sÃ³ o que pediu, sem sugestÃµes            â”‚
â”‚                                                                             â”‚
â”‚   PROPOSTA:                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ ðŸ’¡ SUGESTÃ•ES AUTOMÃTICAS (baseadas em IA/regras)                    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Cliente pediu: Picanha 1.2kg                                       â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚ ðŸŽ¯ SugestÃµes para oferecer:                                 â”‚   â”‚  â”‚
â”‚   â”‚  â”‚                                                             â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â€¢ "Que tal uma linguiÃ§a para acompanhar?" (+R$ 25)        â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â€¢ "Clientes que compram picanha tambÃ©m levam:" [Sal grosso]â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â€¢ "PromoÃ§Ã£o: Fraldinha com 15% OFF hoje!"                  â”‚   â”‚  â”‚
â”‚   â”‚  â”‚                                                             â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  [Enviar sugestÃ£o] [Ignorar]                                â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INEFICIÃŠNCIA 4: PromoÃ§Ãµes por Validade (Shelf-life)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Produtos prÃ³ximos da validade precisam de desconto para evitar perdas     â”‚
â”‚                                                                             â”‚
â”‚   HOJE:                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  1. Operador identifica produtos prÃ³ximos da validade               â”‚  â”‚
â”‚   â”‚                    â”‚                                                 â”‚  â”‚
â”‚   â”‚                    â–¼                                                 â”‚  â”‚
â”‚   â”‚  2. Cria NOVO SKU no Bling com preÃ§o promocional                    â”‚  â”‚
â”‚   â”‚     "Picanha" â†’ "Picanha PROMO 15%"                                  â”‚  â”‚
â”‚   â”‚                    â”‚                                                 â”‚  â”‚
â”‚   â”‚                    â–¼                                                 â”‚  â”‚
â”‚   â”‚  3. Transfere estoque do SKU original para SKU promo                â”‚  â”‚
â”‚   â”‚                    â”‚                                                 â”‚  â”‚
â”‚   â”‚                    â–¼                                                 â”‚  â”‚
â”‚   â”‚  4. ApÃ³s promoÃ§Ã£o: deleta SKU promo, ajusta estoque                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  PROBLEMAS:                                                         â”‚  â”‚
â”‚   â”‚  â€¢ Trabalho manual repetitivo                                       â”‚  â”‚
â”‚   â”‚  â€¢ ProliferaÃ§Ã£o de SKUs no ERP                                      â”‚  â”‚
â”‚   â”‚  â€¢ HistÃ³rico de vendas fragmentado                                  â”‚  â”‚
â”‚   â”‚  â€¢ Risco de erros no estoque                                        â”‚  â”‚
â”‚   â”‚  â€¢ PromoÃ§Ã£o nÃ£o aplicada a tempo = prejuÃ­zo                         â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   PROPOSTA: Sistema de PromoÃ§Ãµes Inteligente (sem alterar SKU)             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  GESTÃƒO DE PROMOÃ‡Ã•ES POR VALIDADE                                   â”‚  â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚  â”‚ Produto: Picanha Premium (SKU: PICA-001)                     â”‚  â”‚  â”‚
â”‚   â”‚  â”‚ Validade do lote atual: 15/01/2026                           â”‚  â”‚  â”‚
â”‚   â”‚  â”‚                                                              â”‚  â”‚  â”‚
â”‚   â”‚  â”‚ ðŸŸ¢ Regras de Desconto AutomÃ¡tico:                            â”‚  â”‚  â”‚
â”‚   â”‚  â”‚                                                              â”‚  â”‚  â”‚
â”‚   â”‚  â”‚   > 7 dias para vencer:    PreÃ§o normal      R$ 90/kg       â”‚  â”‚  â”‚
â”‚   â”‚  â”‚   5-7 dias para vencer:    -10%              R$ 81/kg       â”‚  â”‚  â”‚
â”‚   â”‚  â”‚   3-4 dias para vencer:    -20%              R$ 72/kg       â”‚  â”‚  â”‚
â”‚   â”‚  â”‚   1-2 dias para vencer:    -30%              R$ 63/kg       â”‚  â”‚  â”‚
â”‚   â”‚  â”‚                                                              â”‚  â”‚  â”‚
â”‚   â”‚  â”‚ [Configurar Regras] [Ver HistÃ³rico] [Simular Impacto]       â”‚  â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  COMO FUNCIONA:                                                     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   1. Cadastro de validade por LOTE (nÃ£o por SKU)                   â”‚  â”‚
â”‚   â”‚   2. Sistema calcula desconto em tempo real                        â”‚  â”‚
â”‚   â”‚   3. Na venda: preÃ§o = preÃ§o_base Ã— (1 - desconto_validade)        â”‚  â”‚
â”‚   â”‚   4. Bling recebe o preÃ§o final calculado (sem criar SKU)          â”‚  â”‚
â”‚   â”‚   5. RelatÃ³rios: vendas normais vs vendas com desconto validade    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  BENEFÃCIOS:                                                        â”‚  â”‚
â”‚   â”‚  âœ“ Zero SKUs adicionais no ERP                                     â”‚  â”‚
â”‚   â”‚  âœ“ HistÃ³rico de vendas consolidado                                 â”‚  â”‚
â”‚   â”‚  âœ“ PromoÃ§Ãµes automÃ¡ticas (sem intervenÃ§Ã£o manual)                  â”‚  â”‚
â”‚   â”‚  âœ“ Rastreabilidade: motivo do desconto registrado                  â”‚  â”‚
â”‚   â”‚  âœ“ Alertas: produtos prÃ³ximos da validade sem venda                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   INTEGRAÃ‡ÃƒO COM MOTOR DE SUGESTÃ•ES:                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Vendedor/IA recebe sugestÃ£o automÃ¡tica:                                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚  â”‚ â° PROMOÃ‡ÃƒO VALIDADE - Prioridade Alta                      â”‚    â”‚  â”‚
â”‚   â”‚  â”‚                                                            â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  Fraldinha (3kg disponÃ­veis) - vence em 4 dias             â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  Desconto atual: 20% (R$ 45/kg â†’ R$ 36/kg)                 â”‚    â”‚  â”‚
â”‚   â”‚  â”‚                                                            â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  Cliente atual pediu: Picanha 1.2kg                        â”‚    â”‚  â”‚
â”‚   â”‚  â”‚                                                            â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  ðŸ’¡ SugestÃ£o: "Aproveite a Fraldinha com 20% OFF!"         â”‚    â”‚  â”‚
â”‚   â”‚  â”‚                                                            â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  [Oferecer ao Cliente] [Ver Outros em PromoÃ§Ã£o] [Ignorar]  â”‚    â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CRM Integrado - VisÃ£o 360Â° do Cliente:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CRM - VISÃƒO 360Â° DO CLIENTE                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ PERFIL DO CLIENTE                                                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  JoÃ£o Silva                              Segmento: VIP ðŸŒŸ           â”‚  â”‚
â”‚   â”‚  ðŸ“± (11) 99999-9999                      Cliente desde: Mar/2024    â”‚  â”‚
â”‚   â”‚  ðŸ“§ joao@email.com                       Origem: IndicaÃ§Ã£o          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚   â”‚  â”‚ MÃ‰TRICAS DO CLIENTE                                           â”‚ â”‚  â”‚
â”‚   â”‚  â”‚                                                               â”‚ â”‚  â”‚
â”‚   â”‚  â”‚  ðŸ’° LTV (Lifetime Value):    R$ 4.200                        â”‚ â”‚  â”‚
â”‚   â”‚  â”‚  ðŸ“¦ Total de Pedidos:        28                               â”‚ â”‚  â”‚
â”‚   â”‚  â”‚  ðŸŽ¯ Ticket MÃ©dio:            R$ 150                           â”‚ â”‚  â”‚
â”‚   â”‚  â”‚  ðŸ”„ FrequÃªncia:              2x/mÃªs                           â”‚ â”‚  â”‚
â”‚   â”‚  â”‚  â±ï¸  Ãšltima Compra:          5 dias atrÃ¡s                     â”‚ â”‚  â”‚
â”‚   â”‚  â”‚  â­ CSAT MÃ©dio:              4.8/5                            â”‚ â”‚  â”‚
â”‚   â”‚  â”‚                                                               â”‚ â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Tags: [Churrasco famÃ­lia] [Prefere picanha] [Paga PIX] [VIP]      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Produtos Favoritos:                                                â”‚  â”‚
â”‚   â”‚  1. Picanha (18 pedidos)                                           â”‚  â”‚
â”‚   â”‚  2. LinguiÃ§a artesanal (12 pedidos)                                â”‚  â”‚
â”‚   â”‚  3. Fraldinha (8 pedidos)                                          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ“ Notas do Atendimento:                                          â”‚  â”‚
â”‚   â”‚  â€¢ "Sempre pede entrega apÃ³s 18h" - Maria (Vend.) - 10/01          â”‚  â”‚
â”‚   â”‚  â€¢ "Gosta de receber dicas de preparo" - JoÃ£o (Vend.) - 05/01      â”‚  â”‚
â”‚   â”‚  â€¢ "AlÃ©rgico a pimenta" - Sistema - 02/01                          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   SEGMENTAÃ‡ÃƒO AUTOMÃTICA:                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Segmento        â”‚ CritÃ©rios                        â”‚ AÃ§Ãµes        â”‚  â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚
â”‚   â”‚  ðŸŒŸ VIP          â”‚ LTV > R$2.000 OU pedidos > 15    â”‚ Atend. prior.â”‚  â”‚
â”‚   â”‚  ðŸ”„ Recorrente   â”‚ 3+ pedidos nos Ãºltimos 3 meses   â”‚ Ofertas pers.â”‚  â”‚
â”‚   â”‚  ðŸ†• Novo         â”‚ Primeiro pedido hÃ¡ < 30 dias     â”‚ Onboarding   â”‚  â”‚
â”‚   â”‚  âš ï¸  Em Risco    â”‚ Sem pedido hÃ¡ 45+ dias (era rec.)â”‚ ReativaÃ§Ã£o   â”‚  â”‚
â”‚   â”‚  ðŸ˜´ Inativo      â”‚ Sem pedido hÃ¡ 90+ dias           â”‚ Campanha     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   LIFECYCLE DO CLIENTE:                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   Lead â”€â”€â–¶ Novo â”€â”€â–¶ Ativo â”€â”€â–¶ Recorrente â”€â”€â–¶ VIP                   â”‚  â”‚
â”‚   â”‚     â”‚                                          â”‚                    â”‚  â”‚
â”‚   â”‚     â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚  â”‚
â”‚   â”‚     â”‚        â”‚                                                      â”‚  â”‚
â”‚   â”‚     â”‚        â–¼                                                      â”‚  â”‚
â”‚   â”‚     â”‚    Em Risco â”€â”€â–¶ Inativo â”€â”€â–¶ Perdido                          â”‚  â”‚
â”‚   â”‚     â”‚        â”‚                                                      â”‚  â”‚
â”‚   â”‚     â”‚        â”‚ (campanha de reativaÃ§Ã£o)                            â”‚  â”‚
â”‚   â”‚     â”‚        â–¼                                                      â”‚  â”‚
â”‚   â”‚     â””â”€â”€â”€â”€â–¶ Reativado                                                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   INTEGRAÃ‡ÃƒO COM ATENDIMENTO:                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Quando cliente inicia conversa, Vendedor/IA recebe:                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚ ðŸ”” Cliente VIP identificado!                                â”‚   â”‚  â”‚
â”‚   â”‚  â”‚                                                             â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ JoÃ£o Silva - VIP (LTV: R$ 4.200)                           â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ Ãšltima compra: Picanha 1.2kg hÃ¡ 5 dias                     â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ FrequÃªncia habitual: 2x/mÃªs (prÃ³xima compra prevista: hoje)â”‚   â”‚  â”‚
â”‚   â”‚  â”‚                                                             â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ ðŸ’¡ SugestÃ£o: Oferecer linguiÃ§a (compra junto 75% das vezes)â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ âš ï¸  Nota: Entrega apÃ³s 18h | AlÃ©rgico a pimenta            â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**IntegraÃ§Ãµes:**
- WhatsApp Business API (mensagens entrada/saÃ­da)
- MÃ³dulo de Pedidos interno (criar pedidos)
- **HistÃ³rico de pedidos** (para recompra rÃ¡pida)
- **Motor de sugestÃµes** (para upselling inteligente)
- **Gestor de promoÃ§Ãµes** (para descontos por validade)
- **Pagar.me** (sincronizaÃ§Ã£o de dados de pagamento do cliente)

**Componentes:**

```
modulo-cliente/
â”œâ”€â”€ whatsapp-connector/     # IntegraÃ§Ã£o API WhatsApp
â”œâ”€â”€ agente-ia/              # Atendimento automatizado com IA
â”œâ”€â”€ interface-vendedor/     # Interface UNIFICADA (peso + chat + sugestÃµes)
â”œâ”€â”€ gerenciador-conversas/  # GestÃ£o de sessÃµes e contexto
â”œâ”€â”€ historico-cliente/      # Pedidos anteriores para recompra rÃ¡pida
â”œâ”€â”€ motor-sugestoes/        # Upselling: produtos complementares, promoÃ§Ãµes, recomendaÃ§Ãµes
â”œâ”€â”€ gestor-promocoes/       # PromoÃ§Ãµes por validade: descontos automÃ¡ticos sem alterar SKU
â”œâ”€â”€ crm/                    # CRM integrado
â”‚   â”œâ”€â”€ perfil-cliente/     # VisÃ£o 360Â° do cliente
â”‚   â”œâ”€â”€ segmentacao/        # SegmentaÃ§Ã£o automÃ¡tica (VIP, recorrente, novo, etc.)
â”‚   â”œâ”€â”€ lifecycle/          # GestÃ£o do ciclo de vida do cliente
â”‚   â”œâ”€â”€ scoring/            # LTV, potencial de compra, risco de churn
â”‚   â”œâ”€â”€ notas/              # Notas e tags de atendimento
â”‚   â””â”€â”€ campanhas/          # IntegraÃ§Ã£o com campanhas de reativaÃ§Ã£o
â””â”€â”€ sync-pagarme/           # SincronizaÃ§Ã£o de dados com Pagar.me
```

### 2. MÃ³dulo Pedido

**Responsabilidades:**
- Gerenciar carrinho de compras
- Validar pedidos contra estoque
- Calcular preÃ§os (considerando peso real de cada peÃ§a)
- Sincronizar com ERP
- **Gerenciar catÃ¡logo com pesos disponÃ­veis em tempo real**
- **Suportar recompra rÃ¡pida de pedidos anteriores**

**SoluÃ§Ã£o para Problema de Peso:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CATÃLOGO INTELIGENTE DE PRODUTOS                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Produto: Picanha                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ PeÃ§as DisponÃ­veis (em tempo real do estoque):                       â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   [ ] PeÃ§a #1 - 1.250 kg - R$ 112,50                               â”‚  â”‚
â”‚   â”‚   [ ] PeÃ§a #2 - 1.480 kg - R$ 133,20                               â”‚  â”‚
â”‚   â”‚   [ ] PeÃ§a #3 - 0.980 kg - R$ 88,20                                â”‚  â”‚
â”‚   â”‚   [ ] PeÃ§a #4 - 1.320 kg - R$ 118,80                               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   Vendedor/Cliente seleciona a peÃ§a â†’ Peso e preÃ§o jÃ¡ calculados            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**SoluÃ§Ã£o para Recompra com AproximaÃ§Ã£o de Peso:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FUNCIONALIDADE DE RECOMPRA COM MATCHING DE PESO                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Cliente: JoÃ£o Silva                     [Repetir Ãšltimo Pedido]           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ HistÃ³rico de Pedidos:                                               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   ðŸ“¦ 15/01 - Picanha 1.2kg + Fraldinha 800g     R$ 180   [Repetir]  â”‚  â”‚
â”‚   â”‚   ðŸ“¦ 08/01 - Costela 2kg + LinguiÃ§a 500g        R$ 145   [Repetir]  â”‚  â”‚
â”‚   â”‚   ðŸ“¦ 02/01 - Picanha 1.5kg                       R$ 135   [Repetir]  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   ALGORITMO DE APROXIMAÃ‡ÃƒO DE PESO:                                         â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚                                                                             â”‚
â”‚   Pedido anterior: Picanha 1.2kg                                            â”‚
â”‚                                                                             â”‚
â”‚   Sistema busca peÃ§as disponÃ­veis e ordena por proximidade:                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  PeÃ§as encontradas (ordenadas por menor diferenÃ§a):                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   âœ“ PeÃ§a #3 - 1.180 kg (-20g)   â† Mais prÃ³xima      R$ 106,20     â”‚  â”‚
â”‚   â”‚   â—‹ PeÃ§a #1 - 1.250 kg (+50g)                        R$ 112,50     â”‚  â”‚
â”‚   â”‚   â—‹ PeÃ§a #7 - 1.320 kg (+120g)                       R$ 118,80     â”‚  â”‚
â”‚   â”‚   â—‹ PeÃ§a #2 - 0.980 kg (-220g)                       R$ 88,20      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   TolerÃ¢ncia configurÃ¡vel: Â±200g (padrÃ£o)                          â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   [Confirmar sugestÃ£o] [Escolher outra peÃ§a] [Ajustar tolerÃ¢ncia]          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**IntegraÃ§Ãµes:**
- API Bling (produtos, estoque, pedidos)

**Endpoints API Bling:**

```
GET  /produtos              # Listar produtos
GET  /produtos/{id}         # Detalhes do produto
POST /pedidos/vendas        # Criar pedido de venda
GET  /pedidos/vendas/{id}   # Status do pedido
PUT  /pedidos/vendas/{id}   # Atualizar pedido
GET  /estoques              # Verificar estoque (incluindo peso de cada peÃ§a)
```

**Componentes:**

```
modulo-pedido/
â”œâ”€â”€ servico-carrinho/       # LÃ³gica do carrinho
â”œâ”€â”€ bling-connector/        # IntegraÃ§Ã£o ERP
â”œâ”€â”€ verificador-estoque/    # ValidaÃ§Ã£o de disponibilidade
â”œâ”€â”€ catalogo-pesos/         # Gerencia peÃ§as individuais com seus pesos
â”œâ”€â”€ motor-precos/           # CÃ¡lculo de preÃ§os (preÃ§o/kg Ã— peso real)
â””â”€â”€ servico-recompra/       # Facilita repetiÃ§Ã£o de pedidos anteriores
```

### 3. MÃ³dulo Pagamento

**Responsabilidades:**
- Gerar links de pagamento/PIX
- Processar pagamentos
- Tratar webhooks de confirmaÃ§Ã£o
- Gerenciar estornos

**IntegraÃ§Ãµes:**
- API Pagar.me (transaÃ§Ãµes, clientes)

**Endpoints API Pagar.me:**

```
POST /orders                # Criar pedido com pagamento
POST /charges               # Criar cobranÃ§a
GET  /charges/{id}          # Status da cobranÃ§a
POST /customers             # Criar cliente
POST /orders/{id}/closed    # Fechar pedido
```

**Eventos Webhook:**
- `charge.paid`
- `charge.payment_failed`
- `charge.refunded`

**Componentes:**

```
modulo-pagamento/
â”œâ”€â”€ pagarme-connector/      # IntegraÃ§Ã£o gateway de pagamento
â”œâ”€â”€ tratador-webhooks/      # Processar eventos de pagamento
â”œâ”€â”€ gerenciador-clientes/   # SincronizaÃ§Ã£o dados de clientes
â””â”€â”€ logger-transacoes/      # Trilha de auditoria de pagamentos
```

### 4. MÃ³dulo Entrega

**Responsabilidades:**
- Coordenar fila de separaÃ§Ã£o
- Calcular custos de entrega (referÃªncia via Lalamove)
- Despachar para entregadores terceiros (grupo WhatsApp) - **OPÃ‡ÃƒO PRINCIPAL**
- Despachar para Lalamove quando nÃ£o hÃ¡ terceiros disponÃ­veis - **FALLBACK**
- Rastrear entregas
- Enviar pesquisas CSAT

**Fluxo de Despacho:**
```
Pedido Pronto â†’ CotaÃ§Ã£o Lalamove (referÃªncia) â†’ Notifica Grupo WhatsApp Terceiros
                                                         â”‚
                                                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                                                    â”‚         â”‚
                                              Aceito?    Timeout (5min)
                                                    â”‚         â”‚
                                                    â–¼         â–¼
                                              Terceiro    Lalamove
                                               Entrega     Entrega
```

**IntegraÃ§Ãµes:**
- API WhatsApp (grupo de entregadores terceiros) - **PRINCIPAL**
- API Lalamove (cotaÃ§Ãµes e entregas) - **FALLBACK**

**Endpoints API Lalamove (usados para cotaÃ§Ã£o e fallback):**

```
POST /v3/quotations         # Obter cotaÃ§Ã£o de entrega (referÃªncia de preÃ§o)
POST /v3/orders             # Criar pedido de entrega (quando fallback)
GET  /v3/orders/{id}        # Detalhes do pedido
PUT  /v3/orders/{id}/cancel # Cancelar pedido
```

**Componentes:**

```
modulo-entrega/
â”œâ”€â”€ fila-separacao/         # GestÃ£o de separaÃ§Ã£o interna
â”œâ”€â”€ grupo-terceiros/        # GestÃ£o do grupo WhatsApp de entregadores
â”œâ”€â”€ lalamove-connector/     # IntegraÃ§Ã£o API Lalamove (cotaÃ§Ã£o + fallback)
â”œâ”€â”€ despachador-entregas/   # LÃ³gica: terceiros primeiro, Lalamove se timeout
â”œâ”€â”€ servico-rastreio/       # Monitorar status da entrega
â””â”€â”€ servico-csat/           # Pesquisas de satisfaÃ§Ã£o
```

### 5. MÃ³dulo AutenticaÃ§Ã£o e SessÃµes

**Responsabilidades:**
- Autenticar e autorizar Vendedores no sistema
- Gerenciar sessÃµes de usuÃ¡rios (Vendedor, admin, operaÃ§Ãµes)
- Backup e persistÃªncia de sessÃµes WhatsApp
- Controle de acesso por perfil/role
- Auditoria de aÃ§Ãµes dos usuÃ¡rios

**Ambiente Autenticado para Vendedores:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PORTAL VENDEDOR - AMBIENTE AUTENTICADO                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ LOGIN                                                               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Email: ________________    Senha: ________________                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  [Entrar]   [Esqueci minha senha]                                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  âœ“ AutenticaÃ§Ã£o via JWT                                            â”‚  â”‚
â”‚   â”‚  âœ“ 2FA opcional (SMS/Authenticator)                                â”‚  â”‚
â”‚   â”‚  âœ“ SessÃ£o com expiraÃ§Ã£o configurÃ¡vel                               â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   APÃ“S LOGIN:                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ ðŸ‘¤ Maria Silva (Vendedor)                   [Meu Perfil] [Sair]     â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ“Š Minhas MÃ©tricas Hoje:                                          â”‚  â”‚
â”‚   â”‚  â€¢ Atendimentos: 23                                                 â”‚  â”‚
â”‚   â”‚  â€¢ Tempo mÃ©dio: 4min 32s                                           â”‚  â”‚
â”‚   â”‚  â€¢ Taxa conversÃ£o: 78%                                              â”‚  â”‚
â”‚   â”‚  â€¢ Upselling: +R$ 340                                               â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ’¬ Conversas Ativas (5)    ðŸ“‹ Fila de Espera (3)                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   PERFIS DE ACESSO:                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Perfil         â”‚ PermissÃµes                                       â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Vendedor       â”‚ Atendimento, pedidos, histÃ³rico cliente          â”‚   â”‚
â”‚   â”‚ Supervisor     â”‚ + Reatribuir conversas, ver mÃ©tricas equipe      â”‚   â”‚
â”‚   â”‚ OperaÃ§Ãµes      â”‚ + GestÃ£o entregas, estoque, promoÃ§Ãµes            â”‚   â”‚
â”‚   â”‚ Admin          â”‚ + ConfiguraÃ§Ãµes, usuÃ¡rios, relatÃ³rios completos  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Backup de SessÃµes WhatsApp:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GESTÃƒO DE SESSÃ•ES WHATSAPP                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ARQUITETURA DE PERSISTÃŠNCIA:                                              â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  WhatsApp   â”‚     â”‚   ebeef     â”‚     â”‚   Armazenamento             â”‚  â”‚
â”‚   â”‚  Business   â”‚â”€â”€â”€â”€â–¶â”‚   Server    â”‚â”€â”€â”€â”€â–¶â”‚   Persistente               â”‚  â”‚
â”‚   â”‚    API      â”‚     â”‚             â”‚     â”‚                             â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚                                           â”‚  â”‚ PostgreSQL            â”‚ â”‚  â”‚
â”‚   DADOS PERSISTIDOS:                      â”‚  â”‚ â€¢ Conversas           â”‚ â”‚  â”‚
â”‚   â€¢ ID da conversa                        â”‚  â”‚ â€¢ Mensagens           â”‚ â”‚  â”‚
â”‚   â€¢ HistÃ³rico de mensagens                â”‚  â”‚ â€¢ Contexto sessÃ£o     â”‚ â”‚  â”‚
â”‚   â€¢ Contexto do atendimento               â”‚  â”‚ â€¢ AtribuiÃ§Ãµes Vend.   â”‚ â”‚  â”‚
â”‚   â€¢ Vendedor atribuÃ­do                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â€¢ Estado do carrinho                    â”‚                             â”‚  â”‚
â”‚   â€¢ Timestamps                            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚                                           â”‚  â”‚ Redis (Cache)         â”‚ â”‚  â”‚
â”‚   RECUPERAÃ‡ÃƒO DE SESSÃƒO:                  â”‚  â”‚ â€¢ SessÃµes ativas      â”‚ â”‚  â”‚
â”‚   â€¢ Se servidor reiniciar â†’ sessÃµes       â”‚  â”‚ â€¢ Estado em tempo realâ”‚ â”‚  â”‚
â”‚     sÃ£o restauradas automaticamente       â”‚  â”‚ â€¢ Locks de conversa   â”‚ â”‚  â”‚
â”‚   â€¢ Cliente continua de onde parou        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â€¢ Vendedor vÃª histÃ³rico completo        â”‚                             â”‚  â”‚
â”‚                                           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚   BACKUP AUTOMÃTICO:                      â”‚  â”‚ S3/Object Storage     â”‚ â”‚  â”‚
â”‚   â€¢ Snapshot diÃ¡rio das conversas         â”‚  â”‚ â€¢ Backup diÃ¡rio       â”‚ â”‚  â”‚
â”‚   â€¢ RetenÃ§Ã£o: 90 dias                     â”‚  â”‚ â€¢ MÃ­dias (imagens)    â”‚ â”‚  â”‚
â”‚   â€¢ MÃ­dias armazenadas em object storage  â”‚  â”‚ â€¢ Arquivos            â”‚ â”‚  â”‚
â”‚                                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Componentes:**

```
modulo-autenticacao/
â”œâ”€â”€ auth-service/           # AutenticaÃ§Ã£o JWT, login, logout
â”œâ”€â”€ session-manager/        # GestÃ£o de sessÃµes de usuÃ¡rio
â”œâ”€â”€ role-manager/           # Controle de acesso por perfil (RBAC)
â”œâ”€â”€ whatsapp-session-store/ # PersistÃªncia de sessÃµes WhatsApp
â”œâ”€â”€ audit-logger/           # Log de aÃ§Ãµes para auditoria
â””â”€â”€ backup-service/         # Backup automÃ¡tico de conversas e mÃ­dias
```

### 6. MÃ³dulo Analytics e MÃ©tricas Operacionais

**Responsabilidades:**
- Coletar e agregar mÃ©tricas de atendimento
- Rastrear performance de Vendedores e IA
- Monitorar handovers IAâ†’Vendedor e vice-versa
- Gerar dashboards operacionais em tempo real
- Alertar sobre anomalias e SLAs

**MÃ©tricas Operacionais:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DASHBOARD DE MÃ‰TRICAS OPERACIONAIS                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   TEMPO DE ATENDIMENTO (TAT - Turn Around Time)                             â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Tempo atÃ© primeira resposta:          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  45 seg (meta: 60)â”‚  â”‚
â”‚   â”‚  Tempo mÃ©dio de atendimento:           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  4:32 min         â”‚  â”‚
â”‚   â”‚  Tempo mÃ©dio para fechamento pedido:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘  8:15 min         â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Por Vendedor:                                                      â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚   â”‚  â”‚ Vendedor     â”‚ TAT MÃ©dio   â”‚ Atendimentosâ”‚ SatisfaÃ§Ã£o          â”‚â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚  â”‚
â”‚   â”‚  â”‚ Maria Silva  â”‚ 3:45        â”‚ 28          â”‚ â­â­â­â­â­ 4.8        â”‚â”‚  â”‚
â”‚   â”‚  â”‚ JoÃ£o Santos  â”‚ 5:12        â”‚ 22          â”‚ â­â­â­â­ 4.2          â”‚â”‚  â”‚
â”‚   â”‚  â”‚ Ana Costa    â”‚ 4:30        â”‚ 25          â”‚ â­â­â­â­â­ 4.6        â”‚â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   HANDOVER IA â†” VENDEDOR                                                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Atendimentos hoje: 150                                             â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚   â”‚  â”‚                                                               â”‚ â”‚  â”‚
â”‚   â”‚  â”‚   ðŸ¤– IA Resolveu Sozinha        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  65% (98)    â”‚ â”‚  â”‚
â”‚   â”‚  â”‚   ðŸ”„ IA â†’ Vendedor (EscalaÃ§Ã£o)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  25% (37)    â”‚ â”‚  â”‚
â”‚   â”‚  â”‚   ðŸ‘¤ Vendedor Direto            â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  10% (15)    â”‚ â”‚  â”‚
â”‚   â”‚  â”‚                                                               â”‚ â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Motivos de EscalaÃ§Ã£o (IA â†’ Vendedor):                              â”‚  â”‚
â”‚   â”‚  â€¢ Cliente solicitou humano: 40%                                    â”‚  â”‚
â”‚   â”‚  â€¢ Pergunta complexa: 25%                                           â”‚  â”‚
â”‚   â”‚  â€¢ ReclamaÃ§Ã£o/Problema: 20%                                         â”‚  â”‚
â”‚   â”‚  â€¢ NegociaÃ§Ã£o de preÃ§o: 15%                                         â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Retomada Manual (Vendedor assume conversa IA):                     â”‚  â”‚
â”‚   â”‚  â€¢ Total hoje: 12                                                   â”‚  â”‚
â”‚   â”‚  â€¢ Motivo principal: Cliente VIP identificado                       â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   TICKET MÃ‰DIO E CONVERSÃƒO                                                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Ticket MÃ©dio Hoje:        R$ 145,00  (â–² +8% vs ontem)             â”‚  â”‚
â”‚   â”‚  Ticket MÃ©dio MÃªs:         R$ 138,50                                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Por Canal:                                                         â”‚  â”‚
â”‚   â”‚  â€¢ IA sozinha:     R$ 98,00   (pedidos simples, recompra)          â”‚  â”‚
â”‚   â”‚  â€¢ IA â†’ Vendedor:   R$ 165,00  (upselling pÃ³s-escalaÃ§Ã£o)            â”‚  â”‚
â”‚   â”‚  â€¢ Vendedor direto: R$ 185,00  (clientes VIP, pedidos grandes)      â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Taxa de ConversÃ£o:                                                 â”‚  â”‚
â”‚   â”‚  â€¢ Conversas â†’ Pedidos:     72%                                     â”‚  â”‚
â”‚   â”‚  â€¢ Upselling aceito:        28%                                     â”‚  â”‚
â”‚   â”‚  â€¢ SugestÃ£o validade aceita: 35%                                    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   OUTRAS MÃ‰TRICAS OPERACIONAIS                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  FILA DE ATENDIMENTO                                                â”‚  â”‚
â”‚   â”‚  â€¢ Aguardando agora: 3 clientes                                     â”‚  â”‚
â”‚   â”‚  â€¢ Tempo mÃ©dio espera: 45 seg                                       â”‚  â”‚
â”‚   â”‚  â€¢ Pico do dia: 12 (Ã s 12:30)                                       â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ENTREGAS                                                           â”‚  â”‚
â”‚   â”‚  â€¢ Terceiros: 78%    Lalamove (fallback): 22%                      â”‚  â”‚
â”‚   â”‚  â€¢ Tempo mÃ©dio entrega: 42 min                                      â”‚  â”‚
â”‚   â”‚  â€¢ Taxa de sucesso: 98.5%                                           â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  SATISFAÃ‡ÃƒO (CSAT)                                                  â”‚  â”‚
â”‚   â”‚  â€¢ MÃ©dia geral: 4.6/5                                               â”‚  â”‚
â”‚   â”‚  â€¢ Taxa resposta pesquisa: 45%                                      â”‚  â”‚
â”‚   â”‚  â€¢ NPS: +62                                                         â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  PRODUTOS                                                           â”‚  â”‚
â”‚   â”‚  â€¢ Mais vendido: Picanha (32%)                                      â”‚  â”‚
â”‚   â”‚  â€¢ Produtos com desconto validade vendidos: 15                      â”‚  â”‚
â”‚   â”‚  â€¢ Valor recuperado (evitou perda): R$ 420                          â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Fluxo de Coleta de MÃ©tricas:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PIPELINE DE MÃ‰TRICAS                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   EVENTOS                    PROCESSAMENTO               VISUALIZAÃ‡ÃƒO       â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚ Conversa    â”‚           â”‚             â”‚           â”‚             â”‚      â”‚
â”‚   â”‚ iniciada    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚           â”‚  Dashboard  â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚             â”‚           â”‚  Tempo Real â”‚      â”‚
â”‚                             â”‚   Agregador â”‚           â”‚             â”‚      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚     de      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Grafana/   â”‚      â”‚
â”‚   â”‚ Mensagem    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   MÃ©tricas  â”‚           â”‚  Metabase   â”‚      â”‚
â”‚   â”‚ enviada     â”‚           â”‚             â”‚           â”‚             â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  (Timeseriesâ”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                             â”‚   Database) â”‚                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚             â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚ Handover    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚           â”‚             â”‚      â”‚
â”‚   â”‚ IAâ†’Vendedor â”‚           â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Alertas    â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚             â”‚           â”‚  (WhatsApp/ â”‚      â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   Email)    â”‚      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚             â”‚      â”‚
â”‚   â”‚ Pedido      â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚   â”‚ finalizado  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ PostgreSQL                                    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            (dados histÃ³ricos)                            â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚ CSAT        â”‚                                     â”‚  RelatÃ³rios â”‚      â”‚
â”‚   â”‚ respondido  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  DiÃ¡rios/   â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚  Semanais   â”‚      â”‚
â”‚                                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Componentes:**

```
modulo-analytics/
â”œâ”€â”€ event-collector/        # Coleta eventos de todos os mÃ³dulos
â”œâ”€â”€ metrics-aggregator/     # Agrega e processa mÃ©tricas
â”œâ”€â”€ tat-calculator/         # Calcula tempos de atendimento
â”œâ”€â”€ handover-tracker/       # Rastreia transiÃ§Ãµes IAâ†”Vendedor
â”œâ”€â”€ conversion-analyzer/    # Analisa conversÃµes e ticket mÃ©dio
â”œâ”€â”€ dashboard-api/          # API para dashboards
â”œâ”€â”€ alert-service/          # Alertas de SLA e anomalias
â””â”€â”€ report-generator/       # Gera relatÃ³rios periÃ³dicos
```

### 7. MÃ³dulo Base de Conhecimento (Content Production)

**Responsabilidades:**
- Gerenciar repositÃ³rio de receitas e dicas de churrasco
- Fornecer sugestÃµes contextuais de produtos para cross-sell/upsell
- Apresentar harmonizaÃ§Ãµes de cortes, temperos e acompanhamentos
- Alimentar o motor de sugestÃµes com conteÃºdo relevante
- Permitir que Vendedores e IA tenham acesso a conhecimento especializado

**Base de Conhecimento para Vendas:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BASE DE CONHECIMENTO - MOTOR DE VENDAS                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   COMO FUNCIONA:                                                            â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚ Cliente pede:   â”‚     â”‚ Motor busca:    â”‚     â”‚ Vend./IA sugere: â”‚      â”‚
â”‚   â”‚ "Picanha 1kg"   â”‚â”€â”€â”€â”€â–¶â”‚ â€¢ Receitas      â”‚â”€â”€â”€â”€â–¶â”‚ Complementos    â”‚      â”‚
â”‚   â”‚                 â”‚     â”‚ â€¢ HarmonizaÃ§Ãµes â”‚     â”‚ relevantes      â”‚      â”‚
â”‚   â”‚                 â”‚     â”‚ â€¢ Dicas         â”‚     â”‚                 â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                             â”‚
â”‚   CATEGORIAS DE CONTEÃšDO:                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ– RECEITAS                                                        â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Por tipo de corte (picanha, costela, fraldinha...)            â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Por ocasiÃ£o (churrasco famÃ­lia, festa, dia a dia)             â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Por tÃ©cnica (selado, baixa temperatura, defumado)             â”‚  â”‚
â”‚   â”‚  â””â”€â”€ Por nÃ­vel de dificuldade (iniciante, intermediÃ¡rio, expert)   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ”¥ DICAS DE CHURRASCO                                              â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Preparo da carne (tempero, marinada, corte)                   â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ TÃ©cnicas de grelha (ponto, temperatura, tempo)                â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Equipamentos (tipos de churrasqueira, acessÃ³rios)             â”‚  â”‚
â”‚   â”‚  â””â”€â”€ SoluÃ§Ã£o de problemas (carne dura, queimada, sem sabor)        â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ§‚ HARMONIZAÃ‡Ã•ES                                                   â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Corte + Tempero (ex: picanha + sal grosso + alho)             â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Corte + Acompanhamento (ex: costela + farofa + vinagrete)     â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Corte + Bebida (ex: fraldinha + vinho tinto)                  â”‚  â”‚
â”‚   â”‚  â””â”€â”€ Combos sugeridos (kits prontos para ocasiÃµes)                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ“¦ PRODUTOS COMPLEMENTARES                                         â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Por corte principal (comprou X, leve tambÃ©m Y)                â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Por ocasiÃ£o (churrasco completo precisa de...)                â”‚  â”‚
â”‚   â”‚  â””â”€â”€ Por perfil cliente (histÃ³rico de compras)                     â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**IntegraÃ§Ã£o com Motor de SugestÃµes:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FLUXO DE SUGESTÃƒO CONTEXTUAL                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   EXEMPLO: Cliente pediu Picanha 1.2kg                                      â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  1. Motor recebe contexto do pedido:                                â”‚  â”‚
â”‚   â”‚     { produto: "Picanha", peso: 1.2, cliente: "JoÃ£o", ocasiao: ? }  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  2. Consulta base de conhecimento:                                  â”‚  â”‚
â”‚   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚     â”‚ Receitas para Picanha:                                  â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ â€¢ "Picanha na churrasqueira com sal grosso"             â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ â€¢ "Picanha ao forno com alho e ervas"                   â”‚    â”‚  â”‚
â”‚   â”‚     â”‚                                                         â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ HarmonizaÃ§Ãµes sugeridas:                                â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ â€¢ Sal grosso, pimenta-do-reino                          â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ â€¢ Farofa de bacon, vinagrete                            â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ â€¢ Vinho tinto encorpado                                 â”‚    â”‚  â”‚
â”‚   â”‚     â”‚                                                         â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ Produtos complementares:                                â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ â€¢ LinguiÃ§a (82% dos que compram picanha tambÃ©m levam)   â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ â€¢ CoraÃ§Ã£o de frango (prÃ³ximo da validade: -20%)         â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ â€¢ Sal grosso 1kg                                        â”‚    â”‚  â”‚
â”‚   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  3. Gera sugestÃµes priorizadas:                                     â”‚  â”‚
â”‚   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚     â”‚ PRIORIDADE 1 (PromoÃ§Ã£o validade):                       â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ "CoraÃ§Ã£o de frango com 20% OFF - perfeito para iniciar  â”‚    â”‚  â”‚
â”‚   â”‚     â”‚  o churrasco enquanto a picanha descansa!"              â”‚    â”‚  â”‚
â”‚   â”‚     â”‚                                                         â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ PRIORIDADE 2 (Alta conversÃ£o):                          â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ "Que tal uma linguiÃ§a artesanal? 82% dos clientes que   â”‚    â”‚  â”‚
â”‚   â”‚     â”‚  pedem picanha tambÃ©m levam!"                           â”‚    â”‚  â”‚
â”‚   â”‚     â”‚                                                         â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ PRIORIDADE 3 (Complemento):                             â”‚    â”‚  â”‚
â”‚   â”‚     â”‚ "Dica: sal grosso Ã© essencial para a picanha perfeita!" â”‚    â”‚  â”‚
â”‚   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  4. Vendedor/IA apresenta ao cliente:                               â”‚  â”‚
â”‚   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚     â”‚ ðŸ’¬ "Ã“tima escolha a picanha! Aproveitando, temos uma    â”‚    â”‚  â”‚
â”‚   â”‚     â”‚     promoÃ§Ã£o de coraÃ§Ã£o de frango (Ã³timo para entrada   â”‚    â”‚  â”‚
â”‚   â”‚     â”‚     enquanto a picanha assa). Quer incluir?"            â”‚    â”‚  â”‚
â”‚   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interface do Vendedor - Painel de Conhecimento:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PORTAL VENDEDOR - CONHECIMENTO CONTEXTUAL                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Cliente: JoÃ£o Silva              Produto no carrinho: Picanha 1.2kg â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ“‹ SUGESTÃ•ES PARA OFERECER                    [AutomÃ¡tico] [Manual]â”‚  â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚   â”‚  â”‚ â° PROMOÃ‡ÃƒO VALIDADE                                          â”‚ â”‚  â”‚
â”‚   â”‚  â”‚    CoraÃ§Ã£o de frango (500g) - R$ 18 â†’ R$ 14,40 (-20%)        â”‚ â”‚  â”‚
â”‚   â”‚  â”‚    ðŸ’¡ "Ã“tima entrada enquanto a picanha descansa"             â”‚ â”‚  â”‚
â”‚   â”‚  â”‚    [Enviar sugestÃ£o]                                          â”‚ â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚   â”‚  â”‚ ðŸ”¥ ALTA CONVERSÃƒO (82%)                                       â”‚ â”‚  â”‚
â”‚   â”‚  â”‚    LinguiÃ§a artesanal (400g) - R$ 25                          â”‚ â”‚  â”‚
â”‚   â”‚  â”‚    ðŸ’¡ "Clientes que compram picanha tambÃ©m levam"             â”‚ â”‚  â”‚
â”‚   â”‚  â”‚    [Enviar sugestÃ£o]                                          â”‚ â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ“– DICAS PARA COMPARTILHAR                                         â”‚  â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚  â”‚
â”‚   â”‚  â€¢ "Deixe a picanha descansar 5 min antes de cortar"               â”‚  â”‚
â”‚   â”‚  â€¢ "Ponto ideal: 55Â°C interno para mal passada"                    â”‚  â”‚
â”‚   â”‚  â€¢ [Ver receita completa]                                           â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ðŸ· HARMONIZAÃ‡ÃƒO SUGERIDA                                           â”‚  â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚  â”‚
â”‚   â”‚  Picanha + Sal grosso + Farofa de bacon + Vinho Malbec             â”‚  â”‚
â”‚   â”‚  [Enviar kit completo ao cliente]                                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   ðŸ“Š ESTATÃSTICAS DE SUGESTÃ•ES (hoje):                                      â”‚
â”‚   â€¢ Enviadas: 45  â€¢ Aceitas: 18 (40%)  â€¢ Valor adicional: +R$ 620          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**GestÃ£o de ConteÃºdo (Admin):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ADMIN - GESTÃƒO DE CONTEÃšDO                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   RECEITAS (32)              DICAS (48)              HARMONIZAÃ‡Ã•ES (65)     â”‚
â”‚   [+ Nova Receita]           [+ Nova Dica]           [+ Nova HarmonizaÃ§Ã£o]  â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ CADASTRO DE RECEITA                                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  TÃ­tulo: [Picanha na Churrasqueira com Sal Grosso                 ] â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Corte principal: [Picanha           â–¼]                            â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  NÃ­vel: [â—‹ Iniciante  â— IntermediÃ¡rio  â—‹ Expert]                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  OcasiÃ£o: [â˜‘ Churrasco famÃ­lia  â˜ Festa  â˜ Dia a dia]              â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Ingredientes necessÃ¡rios (para sugestÃ£o automÃ¡tica):               â”‚  â”‚
â”‚   â”‚  [Sal grosso        ] [Adicionar]                                   â”‚  â”‚
â”‚   â”‚  [Alho              ] [Adicionar]                                   â”‚  â”‚
â”‚   â”‚  [Pimenta-do-reino  ] [Adicionar]                                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Produtos complementares sugeridos:                                 â”‚  â”‚
â”‚   â”‚  [LinguiÃ§a          ] [Adicionar]                                   â”‚  â”‚
â”‚   â”‚  [Farofa pronta     ] [Adicionar]                                   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  ConteÃºdo da receita:                                               â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚ 1. Retire a picanha da geladeira 30 min antes...           â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ 2. Tempere generosamente com sal grosso...                  â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ 3. Coloque na grelha com a gordura para cima...            â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  Dicas rÃ¡pidas (para Vendedor compartilhar):                        â”‚  â”‚
â”‚   â”‚  â€¢ "Deixe descansar 5 min antes de cortar"                         â”‚  â”‚
â”‚   â”‚  â€¢ "Corte sempre contra as fibras"                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  [Salvar como rascunho]  [Publicar]                                â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚   REGRAS DE CROSS-SELL (configurÃ¡vel)                                       â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Se cliente comprar:      Sugerir:              Taxa conversÃ£o:      â”‚  â”‚
â”‚   â”‚ Picanha                  LinguiÃ§a              82% âœ“                â”‚  â”‚
â”‚   â”‚ Costela                  Cerveja artesanal     65% âœ“                â”‚  â”‚
â”‚   â”‚ Fraldinha                Chimichurri           71% âœ“                â”‚  â”‚
â”‚   â”‚ Qualquer carne           CarvÃ£o premium        45%                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚ [+ Adicionar regra]                                                 â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Componentes:**

```
modulo-conhecimento/
â”œâ”€â”€ receitas/               # CRUD de receitas
â”œâ”€â”€ dicas/                  # CRUD de dicas de churrasco
â”œâ”€â”€ harmonizacoes/          # CombinaÃ§Ãµes corte + tempero + acompanhamento
â”œâ”€â”€ cross-sell-rules/       # Regras de produtos complementares
â”œâ”€â”€ search-engine/          # Busca contextual no conteÃºdo
â”œâ”€â”€ recommendation-api/     # API para motor de sugestÃµes
â”œâ”€â”€ content-admin/          # Interface de gestÃ£o de conteÃºdo
â””â”€â”€ analytics/              # MÃ©tricas de efetividade das sugestÃµes
```

---

## Modelos de Dados

### Entidade Pedido

```typescript
interface Pedido {
  id: string;
  clienteId: string;
  status: StatusPedido;
  itens: ItemPedido[];
  precos: {
    subtotal: number;
    taxaEntrega: number;
    total: number;
  };
  pagamento: {
    status: StatusPagamento;
    metodo: 'pix' | 'cartao_credito' | 'cartao_debito';
    transacaoId?: string;
  };
  entrega: {
    endereco: Endereco;
    tipo: 'terceiro' | 'lalamove';
    rastreioId?: string;
    previsaoEntrega?: Date;
  };
  idsExternos: {
    blingPedidoId?: string;
    pagarmePedidoId?: string;
    lalamovePedidoId?: string;
  };
  historico: EventoPedido[];
  criadoEm: Date;
  atualizadoEm: Date;
}

enum StatusPedido {
  RASCUNHO = 'rascunho',
  AGUARDANDO_PAGAMENTO = 'aguardando_pagamento',
  PAGO = 'pago',
  SEPARANDO = 'separando',
  PRONTO_PARA_ENTREGA = 'pronto_para_entrega',
  EM_ROTA = 'em_rota',
  ENTREGUE = 'entregue',
  CANCELADO = 'cancelado'
}
```

### Entidade Cliente (com CRM)

```typescript
interface Cliente {
  id: string;
  telefone: string;  // NÃºmero WhatsApp
  nome: string;
  email?: string;
  cpf?: string;
  enderecos: Endereco[];
  idsExternos: {
    pagarmeClienteId?: string;
    blingContatoId?: string;
  };
  preferencias: PreferenciasCliente;
  historicoPedidos: string[];  // IDs dos pedidos
  criadoEm: Date;

  // ===== CAMPOS CRM =====
  crm: {
    // SegmentaÃ§Ã£o
    segmento: 'vip' | 'recorrente' | 'novo' | 'em_risco' | 'inativo' | 'perdido' | 'reativado';
    segmentoAtualizadoEm: Date;

    // Lifecycle
    lifecycle: 'lead' | 'novo' | 'ativo' | 'recorrente' | 'vip' | 'em_risco' | 'inativo' | 'perdido';
    lifecycleAtualizadoEm: Date;

    // MÃ©tricas calculadas
    ltv: number;                    // Lifetime Value total
    ticketMedio: number;
    totalPedidos: number;
    frequenciaMediaDias: number;    // MÃ©dia de dias entre pedidos
    ultimaCompra?: Date;
    proximaCompraPrevista?: Date;   // Baseada na frequÃªncia

    // Scoring
    scorePotencial: number;         // 0-100: potencial de compra
    scoreChurn: number;             // 0-100: risco de perder o cliente

    // SatisfaÃ§Ã£o
    csatMedio: number;
    totalAvaliacoes: number;
    nps?: number;

    // Origem e aquisiÃ§Ã£o
    origem?: 'organico' | 'indicacao' | 'instagram' | 'google' | 'outro';
    indicadoPor?: string;           // ID do cliente que indicou
    campanhaOrigem?: string;

    // Tags e notas
    tags: string[];
    notas: NotaCliente[];

    // Produtos favoritos (calculado)
    produtosFavoritos: {
      produtoId: string;
      nome: string;
      vezesComprado: number;
    }[];

    // Alertas
    alertas: AlertaCliente[];
  };
}

interface NotaCliente {
  id: string;
  conteudo: string;
  tipo: 'observacao' | 'restricao' | 'preferencia' | 'reclamacao';
  criadoPor: 'sistema' | 'vendedor' | 'supervisor';
  vendedorId?: string;
  criadoEm: Date;
}

interface AlertaCliente {
  id: string;
  tipo: 'restricao_alimentar' | 'horario_entrega' | 'forma_pagamento' | 'atencao_especial' | 'outro';
  mensagem: string;
  prioridade: 'baixa' | 'media' | 'alta';
  ativo: boolean;
  criadoEm: Date;
}

// ConfiguraÃ§Ã£o de segmentaÃ§Ã£o (admin pode ajustar)
interface ConfiguracaoSegmentacao {
  id: string;
  segmento: string;
  criterios: {
    ltvMinimo?: number;
    ltvMaximo?: number;
    pedidosMinimo?: number;
    pedidosMaximo?: number;
    diasSemCompraMinimo?: number;
    diasSemCompraMaximo?: number;
    frequenciaMinima?: number;
  };
  acoesAutomaticas: {
    notificarVendedor: boolean;
    enviarCampanha?: string;
    prioridadeAtendimento: 'normal' | 'alta' | 'urgente';
  };
  ativo: boolean;
  criadoEm: Date;
  atualizadoEm: Date;
}

// HistÃ³rico de mudanÃ§as de lifecycle
interface HistoricoLifecycle {
  id: string;
  clienteId: string;
  lifecycleAnterior: string;
  lifecycleNovo: string;
  motivo: string;                   // Ex: "45 dias sem compra", "LTV atingiu R$2000"
  timestamp: Date;
}
```

### Entidades de PromoÃ§Ã£o por Validade

```typescript
// Lote de produto com validade rastreada
interface LoteProduto {
  id: string;
  produtoId: string;           // SKU do produto no Bling
  codigoLote: string;          // CÃ³digo interno do lote
  pesoTotalKg: number;         // Peso total do lote
  pesoDisponivelKg: number;    // Peso ainda disponÃ­vel
  dataValidade: Date;          // Data de vencimento
  dataRecebimento: Date;       // Quando entrou no estoque
  custoKg: number;             // Custo de aquisiÃ§Ã£o
  status: 'disponivel' | 'baixo_estoque' | 'esgotado' | 'vencido';
  criadoEm: Date;
  atualizadoEm: Date;
}

// Regra de desconto por proximidade de validade
interface RegraDescontoValidade {
  id: string;
  produtoId?: string;          // null = regra global
  categoriaId?: string;        // Aplicar para categoria inteira
  nome: string;
  ativo: boolean;
  faixas: FaixaDesconto[];
  criadoEm: Date;
  atualizadoEm: Date;
}

interface FaixaDesconto {
  diasParaVencer: number;      // Ex: 7 dias
  operador: 'menor_ou_igual' | 'menor' | 'entre';
  diasFim?: number;            // Para operador 'entre'
  percentualDesconto: number;  // Ex: 10 = 10%
  descontoMaximoReais?: number; // Limite de desconto em R$
}

// Registro de venda com desconto de validade aplicado
interface DescontoValidadeAplicado {
  id: string;
  itemPedidoId: string;
  loteId: string;
  regraId: string;
  diasParaVencer: number;
  precoOriginal: number;
  percentualDesconto: number;
  valorDesconto: number;
  precoFinal: number;
  aplicadoEm: Date;
}

// Alerta de produto prÃ³ximo da validade
interface AlertaValidade {
  id: string;
  loteId: string;
  tipo: 'aviso' | 'urgente' | 'critico';
  diasRestantes: number;
  pesoDisponivelKg: number;
  valorEstimadoPerda: number;  // Se nÃ£o vender a tempo
  notificadoEm: Date;
  resolvido: boolean;
  resolvidoEm?: Date;
}

// Exemplo de uso no cÃ¡lculo de preÃ§o:
//
// function calcularPrecoComValidade(
//   produtoId: string,
//   pesoKg: number
// ): { precoFinal: number; desconto: DescontoInfo | null } {
//
//   const lote = buscarLoteMaisProximoVencer(produtoId, pesoKg);
//   const regra = buscarRegraDesconto(produtoId);
//   const diasParaVencer = calcularDiasParaVencer(lote.dataValidade);
//
//   const faixa = regra.faixas.find(f =>
//     diasParaVencer <= f.diasParaVencer
//   );
//
//   if (faixa) {
//     const precoBase = produto.precoKg * pesoKg;
//     const desconto = precoBase * (faixa.percentualDesconto / 100);
//     return {
//       precoFinal: precoBase - desconto,
//       desconto: { loteId: lote.id, percentual: faixa.percentualDesconto }
//     };
//   }
//
//   return { precoFinal: produto.precoKg * pesoKg, desconto: null };
// }
```

### Entidades de UsuÃ¡rio e SessÃ£o

```typescript
// UsuÃ¡rio do sistema (Vendedor, Supervisor, Admin)
interface Usuario {
  id: string;
  email: string;
  senhaHash: string;
  nome: string;
  perfil: 'vendedor' | 'supervisor' | 'operacoes' | 'admin';
  ativo: boolean;
  config2FA?: {
    habilitado: boolean;
    metodo: 'sms' | 'authenticator';
    secret?: string;
  };
  ultimoLogin?: Date;
  criadoEm: Date;
  atualizadoEm: Date;
}

// SessÃ£o de usuÃ¡rio autenticado
interface SessaoUsuario {
  id: string;
  usuarioId: string;
  token: string;
  refreshToken: string;
  ipOrigem: string;
  userAgent: string;
  expiraEm: Date;
  criadoEm: Date;
}

// Conversa WhatsApp persistida
interface ConversaWhatsApp {
  id: string;
  telefoneCliente: string;
  clienteId?: string;              // Se cliente jÃ¡ cadastrado
  vendedorAtribuidoId?: string;         // null = IA atendendo
  status: 'aguardando' | 'em_atendimento_ia' | 'em_atendimento_vendedor' | 'finalizada';
  contexto: {
    carrinhoTemp?: any;            // Estado do carrinho em construÃ§Ã£o
    ultimoAssunto?: string;
    sentimentoDetectado?: 'positivo' | 'neutro' | 'negativo';
  };
  mensagens: MensagemConversa[];
  iniciadaEm: Date;
  ultimaMensagemEm: Date;
  finalizadaEm?: Date;
}

interface MensagemConversa {
  id: string;
  conversaId: string;
  direcao: 'entrada' | 'saida';
  remetente: 'cliente' | 'ia' | 'vendedor';
  vendedorId?: string;                  // Se enviada por Vendedor
  conteudo: string;
  tipo: 'texto' | 'imagem' | 'audio' | 'documento';
  midiaUrl?: string;
  timestamp: Date;
}

// Log de auditoria
interface LogAuditoria {
  id: string;
  usuarioId: string;
  acao: string;                    // 'login', 'criar_pedido', 'assumir_conversa', etc.
  recurso: string;                 // 'conversa', 'pedido', 'cliente', etc.
  recursoId?: string;
  detalhes?: any;
  ipOrigem: string;
  timestamp: Date;
}
```

### Entidades de Analytics e MÃ©tricas

```typescript
// Evento de atendimento (para cÃ¡lculo de mÃ©tricas)
interface EventoAtendimento {
  id: string;
  conversaId: string;
  tipo:
    | 'conversa_iniciada'
    | 'primeira_resposta'
    | 'handover_ia_vendedor'           // IA escalou para Vendedor
    | 'handover_vendedor_ia'           // Vendedor devolveu para IA
    | 'retomada_manual'           // Vendedor assumiu conversa da IA
    | 'pedido_iniciado'
    | 'pedido_finalizado'
    | 'conversa_finalizada';
  atendidoPor: 'ia' | 'vendedor';
  vendedorId?: string;
  motivoEscalacao?: string;       // Para handovers
  timestamp: Date;
  metadados?: any;
}

// MÃ©tricas agregadas por perÃ­odo
interface MetricasPeriodo {
  id: string;
  periodo: 'hora' | 'dia' | 'semana' | 'mes';
  dataInicio: Date;
  dataFim: Date;

  // Atendimento
  totalConversas: number;
  conversasIA: number;
  conversasVendedor: number;
  conversasEscaladas: number;     // IA â†’ Vendedor
  retomadasManuais: number;       // Vendedor assumiu da IA

  // Tempos (em segundos)
  tempoMedioPrimeiraResposta: number;
  tempoMedioAtendimento: number;
  tempoMedioFechamentoPedido: number;

  // ConversÃ£o
  totalPedidos: number;
  taxaConversao: number;          // conversas â†’ pedidos
  ticketMedio: number;
  ticketMedioIA: number;
  ticketMedioVendedor: number;

  // Upselling
  sugestoesEnviadas: number;
  sugestoesAceitas: number;
  valorUpselling: number;

  // CSAT
  pesquisasEnviadas: number;
  pesquisasRespondidas: number;
  notaMediaCSAT: number;
  nps: number;

  criadoEm: Date;
}

// MÃ©tricas por Vendedor
interface MetricasVendedor {
  id: string;
  vendedorId: string;
  data: Date;                     // Dia da mÃ©trica

  atendimentos: number;
  tempoMedioAtendimento: number;
  pedidosFechados: number;
  taxaConversao: number;
  ticketMedio: number;

  sugestoesEnviadas: number;
  sugestoesAceitas: number;
  valorUpselling: number;

  notaMediaCSAT: number;
  avaliacoesRecebidas: number;

  criadoEm: Date;
}

// Alerta operacional
interface AlertaOperacional {
  id: string;
  tipo:
    | 'fila_alta'                 // Muitos clientes aguardando
    | 'tat_alto'                  // Tempo de atendimento acima do SLA
    | 'taxa_escalacao_alta'       // Muitas escalaÃ§Ãµes IA â†’ Vendedor
    | 'csat_baixo'                // SatisfaÃ§Ã£o abaixo da meta
    | 'vendedor_indisponivel';         // Nenhum Vendedor online
  severidade: 'info' | 'warning' | 'critical';
  mensagem: string;
  valor: number;                  // Valor que disparou o alerta
  limiar: number;                 // Limiar configurado
  ativo: boolean;
  disparadoEm: Date;
  resolvidoEm?: Date;
}
```

### Entidades de Base de Conhecimento (Content Production)

```typescript
// Receita de preparo
interface Receita {
  id: string;
  titulo: string;
  slug: string;                    // URL amigÃ¡vel
  cortePrincipalId: string;        // Produto principal da receita
  nivel: 'iniciante' | 'intermediario' | 'expert';
  tempoPreparoMin: number;
  porcoes: number;
  ocasioes: ('churrasco_familia' | 'festa' | 'dia_a_dia' | 'romantico')[];
  tecnica: ('grelha' | 'forno' | 'defumado' | 'sous_vide' | 'frigideira')[];
  ingredientes: IngredienteReceita[];
  passos: PassoReceita[];
  dicasRapidas: string[];           // Para Vendedor compartilhar com cliente
  produtosComplementares: string[]; // IDs de produtos sugeridos
  imagemUrl?: string;
  videoUrl?: string;
  status: 'rascunho' | 'publicado' | 'arquivado';
  visualizacoes: number;
  vezesCompartilhada: number;
  criadoEm: Date;
  atualizadoEm: Date;
}

interface IngredienteReceita {
  produtoId?: string;              // Se for produto vendido no ebeef
  nome: string;                    // Nome do ingrediente
  quantidade: string;              // "500g", "2 colheres", etc.
  obrigatorio: boolean;
}

interface PassoReceita {
  ordem: number;
  descricao: string;
  tempoMin?: number;
  dica?: string;
  imagemUrl?: string;
}

// Dica de churrasco
interface DicaChurrasco {
  id: string;
  titulo: string;
  categoria: 'preparo' | 'tecnica' | 'equipamento' | 'solucao_problemas';
  subcategoria?: string;           // Ex: 'tempero', 'marinada', 'ponto'
  cortesRelacionados: string[];    // IDs de produtos
  conteudo: string;
  dicaCurta: string;               // VersÃ£o curta para Vendedor enviar
  tags: string[];
  status: 'rascunho' | 'publicado' | 'arquivado';
  visualizacoes: number;
  vezesCompartilhada: number;
  criadoEm: Date;
  atualizadoEm: Date;
}

// HarmonizaÃ§Ã£o (combinaÃ§Ãµes de produtos)
interface Harmonizacao {
  id: string;
  nome: string;                    // Ex: "Picanha ClÃ¡ssica"
  descricao: string;
  cortePrincipalId: string;        // Produto principal
  temperos: ComponenteHarmonizacao[];
  acompanhamentos: ComponenteHarmonizacao[];
  bebidas: ComponenteHarmonizacao[];
  ocasiao?: string;
  nivelDificuldade: 'facil' | 'medio' | 'dificil';
  imagemUrl?: string;
  status: 'rascunho' | 'publicado' | 'arquivado';
  criadoEm: Date;
  atualizadoEm: Date;
}

interface ComponenteHarmonizacao {
  produtoId?: string;              // Se vendido no ebeef
  nome: string;
  tipo: 'tempero' | 'acompanhamento' | 'bebida' | 'outro';
  obrigatorio: boolean;
  observacao?: string;             // Ex: "serve com vinho tinto encorpado"
}

// Regra de cross-sell
interface RegraCrossSell {
  id: string;
  nome: string;
  ativo: boolean;
  prioridade: number;              // Maior = mais prioritÃ¡rio

  // CondiÃ§Ãµes
  condicao: {
    tipo: 'produto' | 'categoria' | 'valor_carrinho' | 'ocasiao';
    produtoId?: string;
    categoriaId?: string;
    valorMinimo?: number;
    valorMaximo?: number;
  };

  // SugestÃ£o
  sugestao: {
    produtoId: string;
    mensagemSugestao: string;      // Template para Vendedor/IA usar
    desconto?: number;             // Desconto especial se comprar junto
  };

  // MÃ©tricas
  vezesExibida: number;
  vezesAceita: number;
  taxaConversao: number;           // Calculada: vezesAceita / vezesExibida
  valorGerado: number;             // Total de vendas atribuÃ­das a esta regra

  criadoEm: Date;
  atualizadoEm: Date;
}

// Combo/Kit pronto
interface ComboKit {
  id: string;
  nome: string;                    // Ex: "Kit Churrasco FamÃ­lia (6 pessoas)"
  descricao: string;
  ocasiao: string;
  numeroPessoas: number;
  itens: ItemCombo[];
  precoSugerido: number;           // PreÃ§o do combo (geralmente com desconto)
  precoItensIndividuais: number;   // Soma dos itens separados
  economiaPercentual: number;      // Desconto em relaÃ§Ã£o a compra separada
  imagemUrl?: string;
  ativo: boolean;
  criadoEm: Date;
  atualizadoEm: Date;
}

interface ItemCombo {
  produtoId: string;
  quantidade: number;
  pesoKg?: number;                 // Para produtos vendidos por peso
}

// HistÃ³rico de sugestÃµes enviadas (para analytics)
interface SugestaoEnviada {
  id: string;
  conversaId: string;
  clienteId?: string;
  vendedorId?: string;                  // null se enviada pela IA
  enviadaPor: 'ia' | 'vendedor';

  tipo: 'cross_sell' | 'upsell' | 'promocao_validade' | 'receita' | 'dica' | 'harmonizacao';
  referenciaId: string;            // ID da regra, receita, dica, etc.
  produtoSugeridoId?: string;

  contexto: {
    produtoNoCarrinho?: string;
    valorCarrinho?: number;
    motivoSugestao: string;        // Ex: "Alta conversÃ£o", "PromoÃ§Ã£o validade"
  };

  aceita: boolean | null;          // null = sem resposta
  valorAdicional?: number;         // Se aceita, valor adicionado ao pedido

  enviadaEm: Date;
  respondidaEm?: Date;
}
```

---

## Arquitetura de IntegraÃ§Ã£o

### PadrÃ£o API Gateway

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚           API GATEWAY               â”‚
                    â”‚  - AutenticaÃ§Ã£o                     â”‚
                    â”‚  - Rate Limiting                    â”‚
                    â”‚  - Roteamento de RequisiÃ§Ãµes        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                        â”‚                        â”‚
          â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ServiÃ§o      â”‚      â”‚    ServiÃ§o      â”‚      â”‚    ServiÃ§o      â”‚
â”‚    Cliente      â”‚      â”‚    Pedido       â”‚      â”‚    Entrega      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â”‚                        â”‚                        â”‚
         â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    WhatsApp     â”‚      â”‚      Bling      â”‚      â”‚    Lalamove     â”‚
â”‚      API        â”‚      â”‚       API       â”‚      â”‚      API        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚    Pagar.me     â”‚
                         â”‚      API        â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Processamento de Webhooks

```
ServiÃ§o Externo                   EBEEF
      â”‚                               â”‚
      â”‚   POST /webhooks/pagarme      â”‚
      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                               â”‚ 1. Validar assinatura
      â”‚                               â”‚ 2. Parsear evento
      â”‚                               â”‚ 3. Enfileirar para processamento
      â”‚         200 OK                â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
      â”‚                               â”‚
      â”‚                               â”‚ 4. Processar assÃ­ncrono
      â”‚                               â”‚    - Atualizar status pedido
      â”‚                               â”‚    - Notificar cliente
      â”‚                               â”‚    - Disparar entrega
```

---

## Estado Atual vs Futuro

### Estado Atual (Handover Manual)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PROCESSO ATUAL                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  [Pagamento Confirmado] â”€â”€â–¶ [VerificaÃ§Ã£o Manual] â”€â”€â–¶ [Entrega]  â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â”‚                                   â”‚
â”‚                    Humano revisa pedido                          â”‚
â”‚                    em mÃºltiplos sistemas                         â”‚
â”‚                    e coordena handover                           â”‚
â”‚                                                                  â”‚
â”‚  Pontos de Dor:                                                  â”‚
â”‚  - Atraso no processamento                                       â”‚
â”‚  - Erros manuais                                                 â”‚
â”‚  - Sem visibilidade em tempo real                                â”‚
â”‚  - MÃºltiplos logins em sistemas                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Estado Futuro (Automatizado)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PROCESSO FUTURO                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  OpÃ§Ã£o A: AutomaÃ§Ã£o Orientada a Eventos                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚  [Webhook Pagamento] â”€â”€â–¶ [Barramento] â”€â”€â–¶ [Fila Entrega]        â”‚
â”‚                                                                  â”‚
â”‚  - Webhook Pagar.me dispara evento                               â”‚
â”‚  - Barramento roteia para serviÃ§o de entrega                     â”‚
â”‚  - AtualizaÃ§Ã£o automÃ¡tica status no Bling                        â”‚
â”‚  - SolicitaÃ§Ã£o automÃ¡tica cotaÃ§Ã£o Lalamove                       â”‚
â”‚  - NotificaÃ§Ã£o automÃ¡tica terceiros                              â”‚
â”‚                                                                  â”‚
â”‚  OpÃ§Ã£o B: OrquestraÃ§Ã£o por Agente IA                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚
â”‚  [Pagamento Confirmado] â”€â”€â–¶ [Agente IA] â”€â”€â–¶ [Tarefas Multi-etapa]â”‚
â”‚                                                                  â”‚
â”‚  - Agente IA monitora status de pagamento                        â”‚
â”‚  - Executa workflow de entrega                                   â”‚
â”‚  - Trata exceÃ§Ãµes e escalaÃ§Ãµes                                   â”‚
â”‚  - Aprende com padrÃµes                                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## RecomendaÃ§Ã£o de Stack TecnolÃ³gico

### Backend
- **Runtime:** Node.js / TypeScript
- **Framework:** NestJS ou Fastify
- **Banco de Dados:** PostgreSQL
- **Cache:** Redis
- **Fila:** Bull/BullMQ (baseado em Redis)

### Infraestrutura
- **Container:** Docker
- **OrquestraÃ§Ã£o:** Docker Compose (dev) / Kubernetes (prod)
- **API Gateway:** Kong ou AWS API Gateway

### Monitoramento e Observabilidade
- **Logs:** Logging estruturado com Pino
- **MÃ©tricas:** Prometheus + Grafana
- **Tracing:** OpenTelemetry

---

## Estrutura do Projeto

```
ebeef/
â”œâ”€â”€ proposta/                    # Esta proposta
â”‚   â”œâ”€â”€ ARCHITECTURE.md          # Este documento
â”‚   â””â”€â”€ diagramas/               # Diagramas adicionais
â”‚
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/                  # UtilitÃ¡rios e tipos compartilhados
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚
â”‚   â”œâ”€â”€ servico-autenticacao/    # MÃ³dulo AutenticaÃ§Ã£o e SessÃµes
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/            # Login, JWT, 2FA
â”‚   â”‚   â”‚   â”œâ”€â”€ sessoes/         # GestÃ£o de sessÃµes usuÃ¡rio
â”‚   â”‚   â”‚   â”œâ”€â”€ rbac/            # Controle de acesso por perfil
â”‚   â”‚   â”‚   â”œâ”€â”€ whatsapp-store/  # PersistÃªncia sessÃµes WhatsApp
â”‚   â”‚   â”‚   â”œâ”€â”€ backup/          # Backup automÃ¡tico conversas
â”‚   â”‚   â”‚   â””â”€â”€ auditoria/       # Log de aÃ§Ãµes
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ servico-cliente/         # MÃ³dulo Cliente e WhatsApp
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ whatsapp/
â”‚   â”‚   â”‚   â”œâ”€â”€ agente-ia/
â”‚   â”‚   â”‚   â””â”€â”€ conversas/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ servico-pedido/          # MÃ³dulo Pedido e Bling
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ carrinho/
â”‚   â”‚   â”‚   â”œâ”€â”€ bling/
â”‚   â”‚   â”‚   â””â”€â”€ estoque/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ servico-pagamento/       # MÃ³dulo Pagamento e Pagar.me
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ pagarme/
â”‚   â”‚   â”‚   â”œâ”€â”€ webhooks/
â”‚   â”‚   â”‚   â””â”€â”€ transacoes/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ servico-entrega/         # MÃ³dulo Entrega e Lalamove
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ separacao/
â”‚   â”‚   â”‚   â”œâ”€â”€ lalamove/
â”‚   â”‚   â”‚   â”œâ”€â”€ despachador/
â”‚   â”‚   â”‚   â””â”€â”€ csat/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ servico-analytics/       # MÃ³dulo Analytics e MÃ©tricas
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ eventos/         # Coleta de eventos
â”‚   â”‚   â”‚   â”œâ”€â”€ metricas/        # AgregaÃ§Ã£o de mÃ©tricas
â”‚   â”‚   â”‚   â”œâ”€â”€ tat/             # CÃ¡lculo tempo atendimento
â”‚   â”‚   â”‚   â”œâ”€â”€ handover/        # Rastreio IAâ†”Vendedor
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboards/      # API para dashboards
â”‚   â”‚   â”‚   â”œâ”€â”€ alertas/         # Alertas operacionais
â”‚   â”‚   â”‚   â””â”€â”€ relatorios/      # GeraÃ§Ã£o de relatÃ³rios
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ servico-conhecimento/    # MÃ³dulo Base de Conhecimento (Content Production)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ receitas/        # CRUD de receitas de preparo
â”‚       â”‚   â”œâ”€â”€ dicas/           # CRUD de dicas de churrasco
â”‚       â”‚   â”œâ”€â”€ harmonizacoes/   # CombinaÃ§Ãµes corte + tempero + acompanhamento
â”‚       â”‚   â”œâ”€â”€ combos/          # Kits e combos prontos
â”‚       â”‚   â”œâ”€â”€ cross-sell/      # Regras de produtos complementares
â”‚       â”‚   â”œâ”€â”€ search/          # Busca contextual no conteÃºdo
â”‚       â”‚   â”œâ”€â”€ recomendacoes/   # API para motor de sugestÃµes
â”‚       â”‚   â”œâ”€â”€ admin/           # Interface de gestÃ£o de conteÃºdo
â”‚       â”‚   â””â”€â”€ analytics/       # MÃ©tricas de efetividade das sugestÃµes
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api-gateway/             # API gateway principal
â”‚   â”œâ”€â”€ portal-vendedor/        # Portal autenticado para Vendedores
â”‚   â”œâ”€â”€ painel-admin/            # Painel de administraÃ§Ã£o
â”‚   â””â”€â”€ dashboard-ops/           # Dashboard operacional (Grafana/Metabase)
â”‚
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## Fases de ImplementaÃ§Ã£o

### Fase 1: FundaÃ§Ã£o
- Configurar estrutura do projeto e infraestrutura
- Implementar integraÃ§Ã£o Bling (produtos, pedidos)
- Implementar integraÃ§Ã£o Pagar.me (pagamentos bÃ¡sicos)
- Tratamento bÃ¡sico de mensagens WhatsApp

### Fase 2: Fluxo Principal
- GestÃ£o completa do ciclo de vida do pedido
- Processamento de webhooks de pagamento
- Interface manual para disparar entrega
- NotificaÃ§Ãµes bÃ¡sicas de rastreamento

### Fase 3: IntegraÃ§Ã£o de Entregas
- IntegraÃ§Ã£o API cotaÃ§Ã£o Lalamove
- NotificaÃ§Ãµes grupo terceiros
- CriaÃ§Ã£o de pedidos Lalamove
- Rastreamento de entregas

### Fase 4: AutomaÃ§Ã£o
- Handover pagamento-entrega orientado a eventos
- Agente IA para atendimento ao cliente
- AutomaÃ§Ã£o de pesquisa CSAT
- PainÃ©is operacionais

### Fase 5: OtimizaÃ§Ã£o
- DecisÃµes de roteamento de entrega com IA
- GestÃ£o preditiva de estoque
- Analytics de comportamento do cliente
- OtimizaÃ§Ã£o de performance

---

## Credenciais de API NecessÃ¡rias

| ServiÃ§o | Credenciais NecessÃ¡rias |
|---------|------------------------|
| Bling | API Key, Client ID, Client Secret |
| Pagar.me | API Key (teste e produÃ§Ã£o) |
| Lalamove | API Key, API Secret |
| WhatsApp | Token Meta Business API, Phone Number ID |

---

## PrÃ³ximos Passos

1. [ ] Revisar e aprovar arquitetura
2. [ ] Configurar ambiente de desenvolvimento
3. [ ] Obter credenciais de API de todos os serviÃ§os
4. [ ] Definir escopo do MVP para Fase 1
5. [ ] Criar especificaÃ§Ãµes tÃ©cnicas detalhadas
6. [ ] Iniciar implementaÃ§Ã£o

---

*VersÃ£o do Documento: 1.0*
*Ãšltima AtualizaÃ§Ã£o: 07/01/2026*
